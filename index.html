<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title>Spotify Playlist Data Analysis</title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="1404.47">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 14.0px; font: 12.0px Arial; color: #000000; -webkit-text-stroke: #0000ee}
    p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; text-align: center; line-height: 17.0px; font: 26.0px Arial; color: #000000; -webkit-text-stroke: #000000}
    p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 28.0px; font: 24.0px Arial; color: #000000; -webkit-text-stroke: #000000; min-height: 28.0px}
    p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 17.0px; font: 15.0px Arial; color: #000000; -webkit-text-stroke: #000000}
    p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 17.0px; font: 15.0px Arial; color: #000000; -webkit-text-stroke: #000000; min-height: 17.0px}
    p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 14.0px; font: 16.0px Consolas; color: #0000cd; -webkit-text-stroke: #0000cd}
    p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 14.0px; font: 12.0px Arial; color: #000000; -webkit-text-stroke: #000000; min-height: 14.0px}
    p.p9 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 21.0px; font: 18.0px Arial; color: #000000; -webkit-text-stroke: #000000; min-height: 21.0px}
    p.p10 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 14.0px; font: 12.0px Arial; color: #000000; -webkit-text-stroke: #000000}
    p.p11 {margin: 0.0px 0.0px 12.0px 0.0px; line-height: 14.0px; font: 12.0px Arial; color: #000000; -webkit-text-stroke: #000000}
    span.s1 {font: 26.0px Arial; font-kerning}
    span.s2 {font-kerning: none; -webkit-text-stroke: 0px #042eee}
    span.s3 {font: 18.0px Arial; text-decoration: underline ; font-kerning: none; color: #042eee; -webkit-text-stroke: 0px #042eee}
    span.s4 {font: 18.0px Arial; text-decoration: underline ; font-kerning: none; color: #000000; -webkit-text-stroke: 0px #000000}
    span.s5 {font: 12.0px Arial; font-kerning: none; color: #000000; -webkit-text-stroke: 0px #000000}
    span.s6 {font-kerning: none; background-color: #ffffff}
    span.s7 {font-kerning: none; color: #a52a2a; background-color: #ffffff; -webkit-text-stroke: 0px #a52a2a}
    span.s8 {font-kerning: none; color: #ff0000; background-color: #ffffff; -webkit-text-stroke: 0px #ff0000}
    
    .dataframe thead tr:only-child th {
        text-align: center;
    }

    .dataframe thead th {
        text-align: center;
    }

    .dataframe tbody tr th {
        vertical-align: center;
    }
    
    th, td {
    padding: 15px;
    text-align: center;
    } 
    
    table, th, td {
    border-style: solid;
    border-color: #383838;
    border-width: 1px;
    border-collapse: collapse;
    padding: 15px;
    text-align: center;
    color: #383838
    }
    
    
    body {
    background-color: #e6ffe6;
    color: #006400;
    } 
    a:link {
    color: green; 
    background-color: transparent; 
    text-decoration: underline;
}

a:visited {
    color: green;
    background-color: transparent;
    text-decoration: underline;
}

a:hover {
    color: red;
    background-color: transparent;
    text-decoration: underline;
}

a:active {
    color: red;
    background-color: transparent;
    text-decoration: underline;
}
  </style>
</head>
<body>
<p class="p1"><span class="s1"><br>
</span></p>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; text-align: center; line-height: 28.0px; font: 60.0px Arial; color: #000000; -webkit-text-stroke: #000000"><b>SPOTIFY PLAYLIST DATA ANALYSIS</b></h1>
<p class="p3"> <img src="images/Spotify_Pic.png" alt="Spotify Image" style="width:170px;height:170px;"></p>
<p class="p4"><span class="s1"></span><br></p>
<p class="p3"><span class="s1"><b><font size="26.0">NOTEBOOKS:</font></b></span></p>
<p class="p3"><span class="s1"><a href="https://dhnightingale.github.io/webpage_spotify/spotify_data"><b>SPOTIFY DATA</b></a></span><span class="s1"> | <b> </b><a href="https://dhnightingale.github.io/webpage_spotify/msd_data"><span class="s1"><b>MSD DATA</b></span></a> | <b> </b><a href="https://dhnightingale.github.io/webpage_spotify/data_analysis"><b>EDA, MODEL, & RESULTS</b></a> </p>
<p class="p4"><span class="s1"></span><br></p>
<p class="p5"><span class="s1"><b>MOTIVATION</b></span></p>
<p class="p5"><span class="s1">Our goal was to come up with a model for generating playlists that will maximize the likelihood of obtaining a significant number of followers for the most common user-specified genres or search filters.</span></p>
<p class="p8"><span class="s1"></span><br></p>
<p class="p5"><span class="s1"><b>Our final deliverable to Spotify is an algorithm that generates a playlist based on user-suggested genre that is most likely to be highly successful. Candidate playlists are based on artist genre; we did not have data on song-specific genre.<span class="Apple-converted-space"> </span></b></span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p5"><span class="s1"><b>DATA<span class="Apple-converted-space"> </span></b></span></p>
<p class="p5"><span class="s1">Our initial data was obtained by requesting playlist information through the Spotify API, which provided information about artist and song popularities, as well as additional track characteristics, including tempo, key, and loudness. We investigated other potential predictors from the Million Songs Database developed by LabROSA at Columbia University, using the song title and album (this dataset unfortunately was missing ISRC). We did not take many features from this MSD dataset. This is partially because we did not think that too many of them would be useful (the majority of predictors provided by MSD were identical to those provided by Spotify) and also because extracting certain variables was inefficient and impossible under the given time constraints. Additionally, because MSD does not include a universal identifier such as IRSC, there was not a huge percentage of songs that actually merged to our Spotify data. The Spotify data seemed sufficient to make an adequate model though. This is more or less what the data looked like:</span></p>
<p class="p10"><span class="s1"><br></span></p>

<p class="p3">
<table border="1" align="center" class="dataframe">  <thead>    <tr style="text-align: center;">      <th></th>      <th>followers</th>      <th>pl_length</th>      <th>pl_name</th>      <th>track_album_name</th>      <th>track_name</th>      <th>track_populatrity</th>      <th>track_acousticness</th>      <th>track_danceability</th>      <th>track_energy</th>      <th>track_key</th>    </tr>  </thead>  <tbody>    <tr>      <th>1559039</th>      <td>4594125</td>      <td>60</td>      <td>mint</td>      <td>Off The Deep End Volume One</td>      <td>Ghost</td>      <td>60</td>      <td>0.101000</td>      <td>0.530</td>      <td>0.634</td>      <td>5.0</td>    </tr>    <tr>      <th>893872</th>      <td>4594125</td>      <td>60</td>      <td>mint</td>      <td>Without You (Remixes)</td>      <td>Without You - Otto Knows Remix</td>      <td>51</td>      <td>0.000738</td>      <td>0.531</td>      <td>0.850</td>      <td>2.0</td>    </tr>    <tr>      <th>334899</th>      <td>4594125</td>      <td>60</td>      <td>mint</td>      <td>Message In A Bottle</td>      <td>Message In A Bottle</td>      <td>52</td>      <td>0.015700</td>      <td>0.543</td>      <td>0.939</td>      <td>1.0</td>    </tr>    <tr>      <th>65251</th>      <td>4594125</td>      <td>60</td>      <td>mint</td>      <td>Almost Home</td>      <td>Almost Home</td>      <td>63</td>      <td>0.037600</td>      <td>0.780</td>      <td>0.722</td>      <td>0.0</td>    </tr>    <tr>      <th>1198752</th>      <td>4594125</td>      <td>60</td>      <td>mint</td>      <td>Nobody Compares To You</td>      <td>Nobody Compares To You</td>      <td>71</td>      <td>0.229000</td>      <td>0.596</td>      <td>0.731</td>      <td>2.0</td>    </tr>  </tbody></table>
</p>

<p class="p10"><span class="s1"><br></span></p>
<p class="p5"><span class="s1">Each row is a song. This table shows some of the fields that we had in our dataset. We collapsed the songs into their respective playlists in our to build our model and make our predictions.<span class="Apple-converted-space"> </span></span></p>
<p class="p10"><span class="s1"><br></span></p>
<p class="p5"><span class="s1">Part of Spotify’s edge in the competitive streaming-audio industry (as it quickly expands into other verticals such as video-streams and recording) is the ease-of-use of its platform: music is curated and presented to minimize effort needed to find tracks you like. The <i>Discover Weekly</i> playlist, for example, is a translation of a user’s hebdomadal listening history into a new set of tracks delivered to him or her each Monday. Developing a product that responds accurately to a user’s request is paramount to continued growth and success of the platform. It also helps innovators in the music industry understand how users react to a specific implementation of a curative algorithm.<span class="Apple-converted-space"> </span></span></p>
<p class="p10"><span class="s1"><br>
</span></p>
<p class="p5"><span class="s1">There are two main obstacles to solving this problem, the latter much more abstract than the former. First, we needed to determine which predictors of the Spotify-generated data were most important in determining how many followers a playlist would accumulate. Our analysis of this took a potentially dangerous amount of our time and effort, as it resulted in a number of time-intensive attempts. Second, we needed to find a way to understand user-specified input to build a playlist that matched the request: parsing out genres attributed to each track, understanding which song characteristics perform better by genre, and ensuring overall playlist coherence/consistency.</span></p>
<p class="p10"><span class="s1"><br>
<p class="p5"><span class="s1">Here are some examples of our EDA:</span></p>
<p class="p10"><span class="s1"><br>
<p class="p3"> <img src="images/eda3.png" alt="EDA 3" ></p>
<p class="p3"> <img src="images/eda4.png" alt="EDA 4" ></p>
<p class="p3"> <img src="images/eda2.png" alt="EDA 2"></p>
<p class="p3"> <img src="images/eda1.png" alt="EDA 1"></p>
<p class="p10"><span class="s1"><br>
<h1 style="margin: 0.0px 0.0px 0.0px 0.0px; line-height: 21.0px; font: 18.0px Arial; color: #000000; -webkit-text-stroke: #000000; min-height: 21.0px"><span class="s1"></span><br></h1>

<p class="p5"><span class="s1"><b>MODELING</b></span></p>
<p class="p5"><span class="s1">Our baseline models are two linear regressions, one featuring all predictors and the other using a Lasso feature reduction method. However, we quickly realized that our model had very little predictive power. Instead, we decided to continue by trying to classify playlists as either successful or not successful. This seemed like a good approach because we can now give decent predictions about whether or not a playlist will be popular or not instead of giving estimates of followers with huge errors.</span></p>
<p class="p10"><span class="s1"><br>
<p class="p5"><span class="s1">We began by creating a threshold of success for a playlist in terms of the number of followers. We set this threshold so that it would place a playlist in the top 20% most popular on Spotify (of the playlists we got from the API). With this threshold we then implemented a random forest classifier that returned a probability of the playlist hitting this threshold of followers. In other words we are generating a probability that the playlist is successful, and we use that probability to select which playlist to suggest to Spotify and/or the user.</span></p>
<p class="p10"><span class="s1"><br>
<p class="p3"> <img src="images/models_new.png" alt="Models"></p>
<p class="p10"><span class="s1"><br>


<p class="p5"><span class="s1"><b>RESULTS, CONCLUSIONS, & FUTURE WORK</b></span></p>
<p class="p5"><span class="s1">Our results for Spotify are the playlists that we recommend for each genre. Here is an example of the playlist that we generated for the genre “Pop:”</span></p>
<p class="p10"><span class="s1"><br>

 <table border="1"align="center"  class="dataframe">
  <thead>
    <tr style="text-align: center;">
      <th></th>
      <th>track_name</th>
      <th>track_album_name</th>
      <th>track_artists_name1</th>
      <th>track_artists_name2</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>23803</th>
      <td>She Dont Know</td>
      <td>Cream</td>
      <td>Meek Mill</td>
      <td>Ty Dolla $ign</td>
    </tr>
    <tr>
      <th>29007</th>
      <td>Stay</td>
      <td>Stay</td>
      <td>Kygo</td>
      <td>Maty Noyes</td>
    </tr>
    <tr>
      <th>36070</th>
      <td>Diana</td>
      <td>The Very Best Of Paul Anka</td>
      <td>Paul Anka</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>41470</th>
      <td>Good Love</td>
      <td>Universal Love</td>
      <td>Sons Of Zion</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>56672</th>
      <td>Never Say Never</td>
      <td>The Fray</td>
      <td>The Fray</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>103612</th>
      <td>Belgie ... (Is Er Leven Op Pluto ...)</td>
      <td>De Allerbeste Hollandse Meezingers</td>
      <td>Het Goede Doel</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>159250</th>
      <td>Get Up</td>
      <td>Get Up</td>
      <td>R3HAB</td>
      <td>Ciara</td>
    </tr>
    <tr>
      <th>183490</th>
      <td>Wanna Be Startin' Somethin'</td>
      <td>Michael Jackson's This Is It</td>
      <td>Michael Jackson</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>216450</th>
      <td>All About Tonight - Acoustic</td>
      <td>All About Tonight</td>
      <td>Pixie Lott</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>247731</th>
      <td>Back for Good - Radio Mix</td>
      <td>Never Forget - The Ultimate Collection</td>
      <td>Take That</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>248931</th>
      <td>What I Like About You</td>
      <td>What I Like About You (And Other Romantic Hits)</td>
      <td>The Romantics</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>249614</th>
      <td>Summer Son</td>
      <td>The Greatest Hits</td>
      <td>Texas</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>299907</th>
      <td>My Girl</td>
      <td>Motown: The Complete No. 1's</td>
      <td>The Temptations</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>303672</th>
      <td>El Calendario</td>
      <td>El Calendario</td>
      <td>Ezio Oliva</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>321637</th>
      <td>Losing Touch</td>
      <td>Losing Touch</td>
      <td>Albert Hammond, Jr.</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>323527</th>
      <td>What's Luv? (feat. Ja-Rule &amp; Ashanti) - Featur...</td>
      <td>Jealous Ones Still Envy (J.O.S.E)</td>
      <td>Fat Joe</td>
      <td>Ja Rule</td>
    </tr>
    <tr>
      <th>346817</th>
      <td>Huppes Taiauts 1935</td>
      <td>Cajun Roots</td>
      <td>Jo-El Sonnier</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>347462</th>
      <td>If It Ain't Love</td>
      <td>If It Ain't Love</td>
      <td>Jason Derulo</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>376185</th>
      <td>Streets of Philadelphia</td>
      <td>The Essential Bruce Springsteen</td>
      <td>Bruce Springsteen</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>381587</th>
      <td>Romantic</td>
      <td>The Preview</td>
      <td>Stanaj</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>428546</th>
      <td>Conquer The World - Bonus Track</td>
      <td>Fuerteventura</td>
      <td>Russian Red</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>443319</th>
      <td>Ride</td>
      <td>Blurryface</td>
      <td>Twenty One Pilots</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>457208</th>
      <td>Lemon to a Knife Fight</td>
      <td>Lemon to a Knife Fight</td>
      <td>The Wombats</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>463190</th>
      <td>The World</td>
      <td>Time Well Wasted</td>
      <td>Brad Paisley</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>486809</th>
      <td>Round And Round</td>
      <td>Night Visions (Deluxe)</td>
      <td>Imagine Dragons</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>527183</th>
      <td>XPlicit</td>
      <td>EPIC LIT</td>
      <td>French Montana</td>
      <td>Miguel</td>
    </tr>
    <tr>
      <th>557760</th>
      <td>Ain't No Mountain High Enough - Stereo Version</td>
      <td>Marvin Gaye '50' (International Version)</td>
      <td>Marvin Gaye</td>
      <td>Tammi Terrell</td>
    </tr>
    <tr>
      <th>667104</th>
      <td>Ik Proost Met Jou</td>
      <td>Ik Proost Met Jou</td>
      <td>Gerard Joling</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>680309</th>
      <td>Then Again</td>
      <td>Cardinal</td>
      <td>Pinegrove</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>697647</th>
      <td>Hands Clean</td>
      <td>The String Quartet Tribute To Alanis Morissett...</td>
      <td>Vitamin String Quartet</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>721805</th>
      <td>Moonlight</td>
      <td>Moonlight</td>
      <td>Grace VanderWaal</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>748776</th>
      <td>Bonfire</td>
      <td>Camp</td>
      <td>Childish Gambino</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>771819</th>
      <td>Mirrors</td>
      <td>Mirrors</td>
      <td>Justin Timberlake</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>788463</th>
      <td>Down</td>
      <td>Down</td>
      <td>Fifth Harmony</td>
      <td>Gucci Mane</td>
    </tr>
    <tr>
      <th>862070</th>
      <td>Gives You Hell</td>
      <td>When The World Comes Down (International Version)</td>
      <td>The All-American Rejects</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>933698</th>
      <td>Swish Swish</td>
      <td>Swish Swish</td>
      <td>Katy Perry</td>
      <td>Nicki Minaj</td>
    </tr>
    <tr>
      <th>967694</th>
      <td>Let It Go</td>
      <td>VSQ Performs the Hits of 2016 Vol. 2</td>
      <td>Vitamin String Quartet</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>969391</th>
      <td>Stars Will Lead The Way - Live</td>
      <td>Live: Big Music Tour 2015</td>
      <td>Simple Minds</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>969438</th>
      <td>Killing Andy Warhol - 2002 Digital Remaster</td>
      <td>Neapolis (USA ONLY)(Special Packaging)</td>
      <td>Simple Minds</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1012351</th>
      <td>Change</td>
      <td>4 Your Eyez Only</td>
      <td>J. Cole</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1074512</th>
      <td>Legend</td>
      <td>Swings</td>
      <td>Ryan Caraveo</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
<p class="p10"><span class="s1"><br>

<p class="p5"><span class="s1">We put this together by randomly selecting indie songs and putting them into playlists. We only kept the playlist with the highest probability of success. There are a couple of downsides with our current system. First, it uses artist genre and there are often many genres associated with each artist. This might not give a great representation of the desired genre. Second, this model still has a hard time classifying anything as success. After hundreds of iterations, the most likely success only had about 70% chance of success. While this is much better than most playlists will do (remember, only 20% of the original playlists are classified as success), this is still probably not as strong as we would like. We think that this model would likely become stronger with more predictors or a larger subset of playlists. For predicting followers, there are likely many complex features that include what becomes a success, including how they show up in Spotify’s search results (though causality could go in both directions). Future work would involve getting many more features and building a stronger model. However, we think our basic framework is a good way to attack the problem and believe that we could provide useful feedback to Spotify given the time to build out a stronger classifier. </span></p>
</body>
</html>
